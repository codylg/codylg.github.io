function calcWindowSize(){w=window.innerWidth,h=window.innerHeight}function addTransform(e){var t=e.clientX,n=e.clientY,o=wrapper.offsetWidth,r=wrapper.offsetWidth,d=t-(w-o)/2,a=2*(d/o*100-50),l=n-(h-r)/2,m=2*(l/r*100-50);wrapper.style.transform="rotateY("+a/10+"deg) rotateX("+m/-10+"deg)",document.getElementById("exposure").style.transform="translate("+a/-7+"px, "+m/-7+"px)",document.getElementById("depth-1").style.transform="translate("+a/-5+"px, "+m/-6+"px)",document.getElementById("depth-2").style.transform="translate("+a/-4+"px, "+m/-5+"px)",document.getElementById("depth-3").style.transform="translate("+a/-3+"px, "+m/-4+"px)",document.getElementById("depth-4").style.transform="translate("+a/-2+"px, "+m/-3+"px)",document.getElementById("gloss").style.opacity=m/-100}function clearTransform(){document.getElementById("double-exposure-wrapper").style.transform="none",document.getElementById("exposure").style.transform="none",document.getElementById("depth-1").style.transform="none",document.getElementById("depth-2").style.transform="none",document.getElementById("depth-3").style.transform="none",document.getElementById("depth-4").style.transform="none",document.getElementById("gloss").style.opacity=0}function handleOrientation(e){var t=e.beta,n=e.gamma;t>90&&(t=90),-90>t&&(t=-90),t+=90,n+=90}var w=window.innerWidth,h=window.innerHeight,wrapper=document.getElementById("double-exposure-wrapper");window.onresize=calcWindowSize;var output=document.querySelector(".output");window.addEventListener("deviceorientation",handleOrientation);
