function calcWindowSize(){w=window.innerWidth,h=window.innerHeight}function addTransform(e){var t=e.clientX,n=e.clientY,o=wrapper.offsetWidth,r=wrapper.offsetWidth,d=t-(w-o)/2,i=2*(d/o*100-50),a=n-(h-r)/2,s=2*(a/r*100-50);wrapper.style.transform="rotateY("+i/10+"deg) rotateX("+s/-10+"deg)",document.getElementById("exposure").style.transform="translate("+i/-7+"px, "+s/-7+"px)",document.getElementById("depth-1").style.transform="translate("+i/-5+"px, "+s/-6+"px)",document.getElementById("depth-2").style.transform="translate("+i/-4+"px, "+s/-5+"px)",document.getElementById("depth-3").style.transform="translate("+i/-3+"px, "+s/-4+"px)",document.getElementById("depth-4").style.transform="translate("+i/-2+"px, "+s/-3+"px)",document.getElementById("gloss").style.opacity=s/-100}function clearTransform(){document.getElementById("double-exposure-wrapper").style.transform="none",document.getElementById("exposure").style.transform="none",document.getElementById("depth-1").style.transform="none",document.getElementById("depth-2").style.transform="none",document.getElementById("depth-3").style.transform="none",document.getElementById("depth-4").style.transform="none",document.getElementById("gloss").style.opacity=0}var w=window.innerWidth,h=window.innerHeight,wrapper=document.getElementById("double-exposure-wrapper");window.onresize=calcWindowSize;var promise=new FULLTILT.getDeviceOrientation({type:"world"}),deviceOrientation;promise.then(function(e){deviceOrientation=e})["catch"](function(e){console.error(e)}),function e(){if(deviceOrientation){var t=deviceOrientation.getScreenAdjustedQuaternion(),n=deviceOrientation.getScreenAdjustedMatrix(),o=deviceOrientation.getScreenAdjustedEuler();console.debug(t),console.debug(n),console.debug(o),document.getElementById("demo-quaternion").innerHTML=t,document.getElementById("demo-matrix").innerHTML=n,document.getElementById("demo-euler").innerHTML=o}requestAnimationFrame(e)}();
