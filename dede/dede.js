function calcWindowSize(){w=window.innerWidth,h=window.innerHeight}function addTransform(e){var t=e.clientX,n=e.clientY,o=wrapper.offsetWidth,r=wrapper.offsetWidth,d=t-(w-o)/2,a=2*(d/o*100-50),l=n-(h-r)/2,m=2*(l/r*100-50);wrapper.style.transform="rotateY("+a/10+"deg) rotateX("+m/-10+"deg)",document.getElementById("exposure").style.transform="translate("+a/-7+"px, "+m/-7+"px)",document.getElementById("depth-1").style.transform="translate("+a/-5+"px, "+m/-6+"px)",document.getElementById("depth-2").style.transform="translate("+a/-4+"px, "+m/-5+"px)",document.getElementById("depth-3").style.transform="translate("+a/-3+"px, "+m/-4+"px)",document.getElementById("depth-4").style.transform="translate("+a/-2+"px, "+m/-3+"px)",document.getElementById("gloss").style.opacity=m/-100}function clearTransform(){document.getElementById("double-exposure-wrapper").style.transform="none",document.getElementById("exposure").style.transform="none",document.getElementById("depth-1").style.transform="none",document.getElementById("depth-2").style.transform="none",document.getElementById("depth-3").style.transform="none",document.getElementById("depth-4").style.transform="none",document.getElementById("gloss").style.opacity=0}function handleOrientation(e){var t=e.beta,n=e.gamma;output.innerHTML="beta : "+t+"\n",output.innerHTML+="gamma: "+n+"\n",t>90&&(t=90),-90>t&&(t=-90),t+=90,n+=90,ball.style.top=maxX*t/180-10+"px",ball.style.left=maxY*n/180-10+"px"}var w=window.innerWidth,h=window.innerHeight,wrapper=document.getElementById("double-exposure-wrapper");window.onresize=calcWindowSize;var ball=document.querySelector(".ball"),garden=document.querySelector(".garden"),output=document.querySelector(".output"),maxX=garden.clientWidth-ball.clientWidth,maxY=garden.clientHeight-ball.clientHeight;window.addEventListener("deviceorientation",handleOrientation),output.innerHTML="beta : \n",output.innerHTML+="gamma: \n";
